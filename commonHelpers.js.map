{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst refs = {\nformEl: document.querySelector('.js-search-form'),\nimgEl: document.querySelector('.js-image-container'),\n};\n\n// console.log(refs);\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n\n    const query = e.target.elements.text.value;\n\n    getImg(query).then(data => {\n        renderImg(data);\n\n        if (data.hits.length === 0) {\n            iziToast.error({\n               position: \"topRight\",\n               message: 'Sorry, there are no images matching your search query. Please try again!',\n               \n});\n        }\n        e.target.elements.text.value = '';\n    });\n}\n\n// Функція, запит на сервер\n\nfunction getImg(imgEl) {\n\n    const BASE_URL = 'https://pixabay.com/api/';\n    \n    const PARAMS = new URLSearchParams({\n        key: '42120259-494341598d0c2875f9db82d6d',\n        q: imgEl,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    }); \n    \n\n    const url = `${BASE_URL}?${PARAMS.toString()}`;\n\n    console.log(PARAMS.toString());\n    console.log(url);\n    \n    const options = {\n        headers: {\n            API_KEY: '42120259-494341598d0c2875f9db82d6d',\n        },\n    };\n\n    \n\n   return fetch(url).then(response=>response.json());\n}\n\n\n// Функція розмітки\n\nfunction imgTemplate(photo) {\n    return `\n  <div class=\"photo-container\">\n    <img\n      src=\"${photo.webformatURL}\"\n      alt=\"${photo.tags}\"\n      class=\"photo\"\n    />\n  </div>\n  <div class=\"photo-body\">\n    <p class=\"photo-name\">Likes ${photo.likes}</p>\n    <p class=\"photo-name\">Views ${photo.views}</p>\n    <p class=\"photo-name\">Comments ${photo.comments}</p>\n    <p class=\"photo-name\">Downloads ${photo.downloads}</p>\n  </div>`;\n    \n}\n\n\nfunction renderImg(data) {\n    const imagesMarkup = data.hits.map(img => imgTemplate(img)).join('');\n    refs.imgEl.innerHTML = imagesMarkup;\n}\n\n"],"names":["refs","onFormSubmit","e","query","getImg","data","renderImg","iziToast","imgEl","BASE_URL","PARAMS","url","response","imgTemplate","photo","imagesMarkup","img"],"mappings":"svBAIA,MAAMA,EAAO,CACb,OAAQ,SAAS,cAAc,iBAAiB,EAChD,MAAO,SAAS,cAAc,qBAAqB,CACnD,EAIAA,EAAK,OAAO,iBAAiB,SAAUC,CAAY,EAEnD,SAASA,EAAaC,EAAG,CACrBA,EAAE,eAAc,EAEhB,MAAMC,EAAQD,EAAE,OAAO,SAAS,KAAK,MAErCE,EAAOD,CAAK,EAAE,KAAKE,GAAQ,CACvBC,EAAUD,CAAI,EAEVA,EAAK,KAAK,SAAW,GACrBE,EAAS,MAAM,CACZ,SAAU,WACV,QAAS,0EAExB,CAAC,EAEOL,EAAE,OAAO,SAAS,KAAK,MAAQ,EACvC,CAAK,CACL,CAIA,SAASE,EAAOI,EAAO,CAEnB,MAAMC,EAAW,2BAEXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAGKG,EAAM,GAAGF,KAAYC,EAAO,SAAU,IAE5C,eAAQ,IAAIA,EAAO,SAAU,CAAA,EAC7B,QAAQ,IAAIC,CAAG,EAUT,MAAMA,CAAG,EAAE,KAAKC,GAAUA,EAAS,KAAI,CAAE,CACnD,CAKA,SAASC,EAAYC,EAAO,CACxB,MAAO;AAAA;AAAA;AAAA,aAGEA,EAAM;AAAA,aACNA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA,kCAKeA,EAAM;AAAA,kCACNA,EAAM;AAAA,qCACHA,EAAM;AAAA,sCACLA,EAAM;AAAA,SAG5C,CAGA,SAASR,EAAUD,EAAM,CACrB,MAAMU,EAAeV,EAAK,KAAK,IAAIW,GAAOH,EAAYG,CAAG,CAAC,EAAE,KAAK,EAAE,EACnEhB,EAAK,MAAM,UAAYe,CAC3B"}